<div class="text-center">
    <span class="fs-2">Oceń muzyka {{ targetName }}</span>
</div>
<div class="form mt-1 border border-danger rounded p-4 pb-3 mx-5" style="border-width: 3px !important;"
        [formGroup]="form" *ngIf="!isAnyReview">
    <div class="row alert alert-danger my-4" 
        *ngIf="form.invalid && form.errors && form.errors?.isNotInRange">
        Ocena musi mieć wartość od 1 do 5.
    </div>    
    <div class="form-group">
        <label for="rate">Ocena</label>
        <input class="form-control" type="number" name="rate" formControlName="rate" min="1" max="5" required>
            <div *ngIf="form.get('rate').invalid && 
                (form.get('rate').dirty || form.get('rate').touched)"
                class="invalid">
                <div *ngIf="form.get('rate').errors?.required">
                    Podaj ocenę
                </div>
                <div *ngIf="form.get('rate').errors?.min">
                    Minimalna ocena to 1
                </div>
                <div *ngIf="form.get('rate').errors?.max">
                    Maksymalna ocena to 5
                </div>
            </div>
    </div>
    <div class="form-group">
        <label for="description">Krótki opis</label>
        <textarea class="form-control" rows="5" name="description" formControlName="description" required></textarea>
            <div *ngIf="form.get('description').invalid && 
                    (form.get('description').dirty || form.get('description').touched)"
                    class="invalid">
                <div *ngIf="form.get('description').errors?.required">
                    Podaj opis
                </div>
                <div *ngIf="form.get('description').errors?.maxlength">
                    Maksymalna długość wynosi 200 znaków
                </div>
            </div>
    </div>
    <div class="form-group commands mt-3 mb-1 d-flex justify-content-center">
        <button type="submit" (click)="onSubmit()"
            class="btn btn-outline-secondary px-5"
            [disabled]="form.invalid">Wyślij</button>
    </div>
</div>
<div class="text-center mt-3" *ngIf="isAnyReview">
    <span class="fs-4">Już oceniłeś tego muzyka.</span>
</div>